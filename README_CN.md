# DistroNexus (å‘è¡Œç‰ˆæ¢çº½)

**ä¸­æ–‡** | [English](README.md)

**DistroNexus** æ˜¯ä¸€ä¸ªåŠŸèƒ½å…¨é¢çš„ GUI åº”ç”¨ç¨‹åºï¼ˆç”± PowerShell é©±åŠ¨ï¼‰ï¼Œæ—¨åœ¨ç®€åŒ– Windows Subsystem for Linux (WSL) å‘è¡Œç‰ˆçš„ç®¡ç†ã€ä¸‹è½½å’Œè‡ªå®šä¹‰å®‰è£…ã€‚å®ƒæ˜¯ä½ æ„å»º WSL ç¯å¢ƒçš„æ ¸å¿ƒæ¢çº½ï¼Œè®©ä½ èƒ½å¤Ÿåƒåœ¨å·¥å‚ä¸­ä¸€æ ·å®šåˆ¶ä¸“å±çš„ Linux ç¯å¢ƒã€‚

## ğŸ“˜ å®˜æ–¹æ–‡æ¡£

å®Œæ•´çš„æ–‡æ¡£ã€ä½¿ç”¨æŒ‡å—å’Œå‘å¸ƒæ—¥å¿—è¯·è®¿é—®æˆ‘ä»¬çš„å®˜æ–¹ç½‘ç«™ï¼š
ğŸ‘‰ **[https://lazyworkshop-create.github.io/DistroNexus/zh-Hans/](https://lazyworkshop-create.github.io/DistroNexus/zh-Hans/)**

## åŠŸèƒ½ç‰¹æ€§

*   **ç°ä»£å›¾å½¢ç•Œé¢ (GUI)**ï¼šåŸºäº Fyne æ„å»ºçš„è·¨å¹³å°å›¾å½¢åŒ–ä»ªè¡¨ç›˜ï¼Œå¯è§†åŒ–ç®¡ç†ä¸€åˆ‡ã€‚
*   **é›†ä¸­ä¸‹è½½**ï¼šè‡ªåŠ¨ä¸‹è½½ä¸»æµå‘è¡Œç‰ˆï¼ˆå¦‚ Ubuntu, Debian, Kali Linux, Oracle Linuxï¼‰çš„æœ€æ–°ç¦»çº¿å®‰è£…åŒ… (Appx/AppxBundle)ã€‚
*   **è‡ªå®šä¹‰å®‰è£…**ï¼šå°† WSL å‘è¡Œç‰ˆå®‰è£…åˆ°ä½ æŒ‡å®šçš„ä»»æ„ç›®å½•æˆ–é©±åŠ¨å™¨ï¼Œä¸å†å—é™äºç³»ç»Ÿç›˜é»˜è®¤è·¯å¾„ã€‚
*   **é«˜çº§å®ä¾‹ç®¡ç†**ï¼š
    *   **å¯åŠ¨ (Start)**ï¼šåœ¨åå°å¯åŠ¨å®ä¾‹ã€‚
    *   **æ‰“å¼€ç»ˆç«¯ (Open Terminal)**ï¼šä¸ºæ­£åœ¨è¿è¡Œçš„å®ä¾‹æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯çª—å£ï¼ˆæ”¯æŒè‡ªå®šä¹‰å¯åŠ¨ç›®å½•ä¸‹ï¼‰ã€‚
    *   **åœæ­¢ (Stop)**ï¼šç«‹å³ç»ˆæ­¢æ­£åœ¨è¿è¡Œçš„å®ä¾‹ã€‚
    *   **ç§»åŠ¨ (Move)**ï¼šå°†ç°æœ‰å‘è¡Œç‰ˆæ— æŸè¿ç§»åˆ°æ–°çš„é©±åŠ¨å™¨æˆ–æ–‡ä»¶å¤¹ã€‚
    *   **é‡å‘½å (Rename)**ï¼šæ›´æ”¹ WSL å®ä¾‹çš„æ³¨å†Œåç§°ã€‚
    *   **å‡­æ® (Credentials)**ï¼šé‡ç½®æˆ–è®¾ç½®ä»»ä½•å®ä¾‹çš„é»˜è®¤ç”¨æˆ·åå’Œå¯†ç ã€‚
*   **å®‰å…¨æ£€æŸ¥**ï¼šå†…ç½®éªŒè¯æœºåˆ¶ï¼Œé˜²æ­¢è¦†ç›–ç°æœ‰å®ä¾‹æˆ–å®‰è£…åˆ°éç©ºç›®å½•ã€‚
*   **å¤šç‰ˆæœ¬å…±å­˜**ï¼šè½»æ¾å®‰è£…åŒä¸€å‘è¡Œç‰ˆçš„å¤šä¸ªç‰ˆæœ¬ï¼ˆä¾‹å¦‚åŒæ—¶å®‰è£… Ubuntu 20.04 å’Œ 22.04ï¼‰ï¼Œæˆ–åŒä¸€ç‰ˆæœ¬çš„å¤šä¸ªå®ä¾‹ã€‚
*   **ç¦»çº¿æ”¯æŒ**ï¼šåˆ©ç”¨æœ¬åœ°ç¼“å­˜çš„å®‰è£…åŒ…ï¼Œæå¤§åŠ å¿«é‡è£…æˆ–å¤šå®ä¾‹éƒ¨ç½²çš„é€Ÿåº¦ã€‚
*   **åŒ…ç®¡ç†**ï¼šæŸ¥çœ‹å’Œç®¡ç†æœ¬åœ°ç¼“å­˜çš„å‘è¡Œç‰ˆå®‰è£…åŒ…ã€‚
*   **å¸è½½åŠ©æ‰‹**ï¼šä¸€é”®æ³¨é”€å¹¶ç§»é™¤è‡ªå®šä¹‰çš„ WSL å®ä¾‹æ–‡ä»¶ã€‚

## é…ç½®

å…¨å±€è®¾ç½®å­˜å‚¨åœ¨ `config/settings.json` æ–‡ä»¶ä¸­ï¼š

```json
{
    "DefaultInstallPath": "D:\\WSL",
    "PackageCachePath": "D:\\WSL_Cache",
    "DefaultTerminalStartPath": "~",
    "DefaultDistro": "Ubuntu-24.04"
}
```

*   `DefaultInstallPath`: å¦‚æœæœªæä¾›è·¯å¾„ï¼Œå‘è¡Œç‰ˆå°†è¢«å®‰è£…åˆ°çš„æ ¹ç›®å½•ã€‚
*   `PackageCachePath`: ä¸‹è½½ç¦»çº¿åŒ…çš„å­˜å‚¨ç›®å½•ã€‚
*   `DefaultTerminalStartPath`: æ‰“å¼€ç»ˆç«¯æ—¶çš„é»˜è®¤å¯åŠ¨ç›®å½• (ä¾‹å¦‚ `~` ä»£è¡¨ç”¨æˆ·ä¸»ç›®å½•ï¼Œæˆ– `/mnt/c/`)ã€‚
*   `DefaultDistro`: å¿«é€Ÿæ¨¡å¼ä¸‹é»˜è®¤ä½¿ç”¨çš„å‘è¡Œç‰ˆæ ‡è¯†ç¬¦ã€‚

## å›¾å½¢ç”¨æˆ·ç•Œé¢ (GUI)

DistroNexus ç°å·²åŒ…å«ä¸€ä¸ªç°ä»£åŒ–çš„å›¾å½¢ç•Œé¢ (`DistroNexus.exe`)ï¼Œå°†å¼ºå¤§çš„ PowerShell è„šæœ¬å°è£…åœ¨ç”¨æˆ·å‹å¥½çš„ä½“éªŒä¸­ã€‚

### ä¸»è¦åŠŸèƒ½
- **å®‰è£… (Install)**: é€‰æ‹©å‘è¡Œç‰ˆå®¶æ—/ç‰ˆæœ¬ï¼Œé…ç½®ç”¨æˆ·ï¼Œå¹¶å®æ—¶ç›‘æ§å®‰è£…æ—¥å¿—ã€‚æ”¯æŒâ€œå¿«é€Ÿæ¨¡å¼â€ä¸€é”®è®¾ç½®ã€‚
- **æˆ‘çš„å®ä¾‹ (My Installs)**: 
    - æŸ¥çœ‹æ‰€æœ‰å·²æ³¨å†Œçš„ WSL å‘è¡Œç‰ˆã€‚
    - **æ“ä½œé¢æ¿**: ç›´æ¥åœ¨å¡ç‰‡ä¸Šåœæ­¢ã€ç§»åŠ¨ã€é‡å‘½åã€è®¾ç½®å‡­æ®å’Œå¸è½½å®ä¾‹ã€‚
    - **ç£ç›˜ä½¿ç”¨é‡**: ç›‘æ§æ¯ä¸ªå‘è¡Œç‰ˆè™šæ‹Ÿç£ç›˜çš„å¤§å°ã€‚
- **åŒ…ç®¡ç†å™¨ (Package Manager)**: æŸ¥çœ‹æœ¬åœ°ç¼“å­˜çš„å‘è¡Œç‰ˆåŒ…ï¼ŒæŸ¥çœ‹å…¶å¤§å°ï¼Œå¹¶åˆ é™¤æœªä½¿ç”¨çš„æ–‡ä»¶ã€‚
- **è®¾ç½® (Settings)**: é…ç½®é»˜è®¤è·¯å¾„ï¼ˆå®‰è£…ã€ç¼“å­˜ã€ç»ˆç«¯ï¼‰å¹¶æ”¯æŒé‡ç½®é…ç½®ã€‚

![App Icon](tools/icon.png)

## ä»æºç æ„å»º

## è„šæœ¬è¯´æ˜

æ‰€æœ‰è„šæœ¬å‡ä½äº `scripts/` ç›®å½•ä¸‹ï¼š

### 1. `download_all_distros.ps1`

å°†æ‰€æœ‰æ”¯æŒçš„ WSL å‘è¡Œç‰ˆå®‰è£…åŒ…ä¸‹è½½åˆ°æœ¬åœ°çš„ `distro` ç›®å½•ä¸­ã€‚è¿™éå¸¸é€‚åˆå»ºç«‹ç¦»çº¿ä»“åº“æˆ–ç¡®ä¿æœ¬åœ°æ‹¥æœ‰æœ€æ–°ç‰ˆæœ¬ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```powershell
.\scripts\download_all_distros.ps1
```

### 2. `install_wsl_custom.ps1`

æ ¸å¿ƒå®‰è£…è„šæœ¬ã€‚æ”¯æŒäº¤äº’å¼èœå•æ“ä½œï¼Œä¹Ÿæ”¯æŒå‘½ä»¤è¡Œå‚æ•°è°ƒç”¨ã€‚

**æŸ¥çœ‹å¯ç”¨å‘è¡Œç‰ˆåˆ—è¡¨ï¼š**
åˆ—å‡ºæ‰€æœ‰æ”¯æŒçš„å‘è¡Œç‰ˆåŠå…¶æ ‡è¯†ç¬¦ï¼ˆç”¨äºé…ç½®é»˜è®¤å‘è¡Œç‰ˆæˆ–æ‰‹åŠ¨é€‰æ‹©ï¼‰ã€‚
```powershell
.\scripts\install_wsl_custom.ps1 -ls
```

**äº¤äº’æ¨¡å¼ï¼š**
ç›´æ¥è¿è¡Œè„šæœ¬ï¼ŒæŒ‰ç…§æç¤ºé€šè¿‡èœå•é€‰æ‹©å‘è¡Œç‰ˆå®¶æ—ã€ç‰ˆæœ¬ï¼Œå¹¶è®¾ç½®åç§°å’Œå®‰è£…è·¯å¾„ã€‚
```powershell
.\scripts\install_wsl_custom.ps1
```

**å‘½ä»¤è¡Œæ¨¡å¼ (é™é»˜/è‡ªåŠ¨åŒ–)ï¼š**
ä½¿ç”¨å‚æ•°è·³è¿‡äº¤äº’æ­¥éª¤ã€‚

*   **ä¸€é”®å®‰è£… (åŒ…å«ç”¨æˆ·é…ç½®):**
    ```powershell
    .\scripts\install_wsl_custom.ps1 -name "MyDevEnv" -user "devops" -pass "securepass"
    ```

*   **é€šè¿‡é€‰æ‹©å‘è¡Œç‰ˆå’Œç‰ˆæœ¬å®‰è£…ï¼š**
    ```powershell
    .\scripts\install_wsl_custom.ps1 -SelectFamily "Ubuntu" -SelectVersion "22.04"
    ```

*   **å®Œå…¨è‡ªå®šä¹‰å®‰è£…ï¼ˆæŒ‡å®šåç§°ã€è·¯å¾„å’Œå‘è¡Œç‰ˆï¼‰ï¼š**
    ```powershell
    .\scripts\install_wsl_custom.ps1 -SelectFamily "Debian" -SelectVersion "GNU/Linux" -DistroName "Debian-Dev" -InstallPath "D:\WSL\Debian-Dev"
    ```

*   **å‚æ•°åˆ—è¡¨ï¼š**
    *   `-DistroName`: æ‰‹åŠ¨æŒ‡å®š WSL æ³¨å†Œåç§°ã€‚
    *   `-InstallPath`: æ‰‹åŠ¨æŒ‡å®šå®‰è£…ç›®å½•ã€‚
    *   `-SelectFamily`: å‘è¡Œç‰ˆå®¶æ—åç§° (ä¾‹å¦‚ "Ubuntu", "Debian")ã€‚
    *   `-SelectVersion`: ç‰ˆæœ¬åŒ¹é…å­—ç¬¦ä¸² (ä¾‹å¦‚ "24.04")ã€‚
    *   `-name`: å¿«é€Ÿæ¨¡å¼ï¼šæŒ‡å®šå®ä¾‹åç§°ï¼ˆä½¿ç”¨é»˜è®¤å‘è¡Œç‰ˆç±»å‹ï¼‰ã€‚
    *   `-user`: é»˜è®¤åˆ›å»ºçš„ç”¨æˆ·åã€‚
    *   `-pass`: é»˜è®¤ç”¨æˆ·çš„å¯†ç ã€‚

### 3. ç®¡ç†è„šæœ¬

*   **`move_instance.ps1`**: å°† WSL å®ä¾‹ç§»åŠ¨åˆ°æ–°ä½ç½®ï¼ˆå®‰å…¨å¯¼å‡º -> æ³¨é”€ -> å¯¼å…¥ï¼‰ã€‚
*   **`rename_instance.ps1`**: é‡å‘½å WSL å®ä¾‹çš„æ³¨å†Œè¡¨é¡¹ã€‚
*   **`start_instance.ps1`**: å¯åŠ¨å‘è¡Œç‰ˆï¼Œå¯é€‰æŒ‡å®šå¯åŠ¨ç›®å½• (`-StartPath`)ã€‚
*   **`stop_instance.ps1`**: ç»ˆæ­¢æ­£åœ¨è¿è¡Œçš„å®ä¾‹ã€‚
*   **`set_credentials.ps1`**: é…ç½®å‘è¡Œç‰ˆå†…çš„é»˜è®¤ç”¨æˆ·å’Œå¯†ç ã€‚

### 4. `download_all_distros.ps1`

å°†æ‰€æœ‰ï¼ˆæˆ–æŒ‡å®šçš„ï¼‰WSL å‘è¡Œç‰ˆå®‰è£…åŒ…ä¸‹è½½åˆ°é…ç½®çš„ç¼“å­˜è·¯å¾„ã€‚

### 5. `scan_wsl_instances.ps1`

æ‰«æ `wsl -l -v` çš„è¾“å‡ºå¹¶åŒæ­¥å†…éƒ¨çš„ `config/instances.json` æ³¨å†Œè¡¨ã€‚

### åŸºç¡€æ¶æ„

*   **`pwsh_utils.ps1`**: ç”¨äºæ—¥å¿—è®°å½•å’Œé€šç”¨åŠŸèƒ½çš„å…±äº«åº“ã€‚æ—¥å¿—å­˜å‚¨åœ¨ `logs/` ç›®å½•ä¸­ï¼Œæ”¯æŒè½®è½¬ã€‚

## é¡¹ç›®ç»“æ„

```
DistroNexus/
â”œâ”€â”€ build/                        # ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶è¾“å‡º
â”œâ”€â”€ config/                       # JSON é…ç½®
â”‚   â”œâ”€â”€ distros.json              # å‘è¡Œç‰ˆå®šä¹‰
â”‚   â””â”€â”€ settings.json             # ç”¨æˆ·è®¾ç½®
â”œâ”€â”€ scripts/                      # PowerShell åç«¯è„šæœ¬
â”‚   â”œâ”€â”€ download_all_distros.ps1  # ä¸‹è½½å™¨
â”‚   â”œâ”€â”€ install_wsl_custom.ps1    # å®‰è£…å™¨
â”‚   â”œâ”€â”€ move_instance.ps1         # ç§»åŠ¨é€»è¾‘
â”‚   â”œâ”€â”€ pwsh_utils.ps1            # æ—¥å¿—ä¸å·¥å…·
â”‚   â”œâ”€â”€ rename_instance.ps1       # é‡å‘½åé€»è¾‘
â”‚   â”œâ”€â”€ scan_wsl_instances.ps1    # æ³¨å†Œè¡¨åŒæ­¥
â”‚   â”œâ”€â”€ set_credentials.ps1       # ç”¨æˆ·/å¯†ç é€»è¾‘
â”‚   â”œâ”€â”€ start_instance.ps1        # å¯åŠ¨å™¨
â”‚   â”œâ”€â”€ stop_instance.ps1         # ç»ˆæ­¢å™¨
â”‚   â””â”€â”€ uninstall_wsl_custom.ps1  # å¸è½½å™¨
â”œâ”€â”€ src/                          # Go æºä»£ç 
â”‚   â”œâ”€â”€ cmd/                      # å…¥å£ç‚¹
â”‚   â”œâ”€â”€ internal/                 # åº”ç”¨é€»è¾‘ & UI
â”‚   â”‚   â”œâ”€â”€ config/               # é…ç½®åŠ è½½å™¨
â”‚   â”‚   â”œâ”€â”€ logic/                # åç«¯é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ model/                # æ•°æ®ç±»å‹
â”‚   â”‚   â””â”€â”€ ui/                   # Fyne UI ç»„ä»¶
â”‚   â”œâ”€â”€ go.mod                    # Go ä¾èµ–å®šä¹‰
â”‚   â””â”€â”€ vendor/                   # ä¾èµ–åŒ…å‰¯æœ¬
â”œâ”€â”€ tools/                        # æ„å»ºå·¥å…·å’Œèµ„æº
â”œâ”€â”€ docs/                         # æ–‡æ¡£ä¸å½’æ¡£
â”œâ”€â”€ README.md                     # è‹±æ–‡è¯´æ˜æ–‡æ¡£
â””â”€â”€ README_CN.md                  # ä¸­æ–‡è¯´æ˜æ–‡æ¡£
```
